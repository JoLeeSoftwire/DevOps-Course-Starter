services:
- docker

env:
  global:
    - secure: "J1VqnRtlGJkXVeHw6onVOZr+S2KTV0raZYNJpfUkPzvg8G0TdPIG72exeZVFsj6Sov0khDAYy7Yov78Or8NAbj3ejyapHHkxXHRNarZA/j4ANAGfbIEBx0O2d2Hj/2IeMtK/PMpudJlTtMMGjzjVKRHJwUKm2yIGYhHOGxqcJt8Woc9fRe2cWeYwbdYqbiSzjKhEcpdF72NNpkfO/3D+z5jNmT9xZ4kkVgwkxbUwtkhZLRd4rdqxyIAxyRSHkqZmZv8Pm7nCNNZtZGOdCO89CNsDzShWExA6Juom+ivcVkqXUGpHa50RA7zrz1/mxxrJEiaP+LDWyrt05za5T6pvdgT0+9CU2vQSjkP4KtgT/Ywon7sYlenZbLYUigezHR8OedYm3gSFzD/bRY30LuN7mEur/GOyUEfV2sHuuBBtlxv7rmqqHyyJXDoK4NDZvzT96E2qjTdj1ZtI30nnRQZ1xqqZMODM1Ysbzf2syIewROGqoUuLZCETv2E97z9w+H+6/LUsMH/wFBsBF1pD1+DIPi8D4O19uQy6HkNxmiHoYDaQf74xlNItDnfQJWUVPG1kQSzcpgRfjIev3c6dezmjWh3fp6CJs9RTc5qapTuh2BK7ATVlq81bX/CSkBfF4h0yd30BwZQq/XulN79EHCuArIyLi5jW9KPcwlY0uMQnZQ4="
    - secure: "RZR28e7Z94VqE/H5v67w/Y+HOJSDU9fs/fDtf85seOoJphM6rh4s88/vFvRaGCB7jOTXIan1mbVpOwHptdtk+WE0312Uy2P3GJWxkLOngdQBTGAMyAOzjlJHG9vy2jRXoFVYJZKqLhUwrg0TWiOFduaNEnEq+OlxdxPfWM8YDPu7bq8eXPCH9hHDExCb3UPFyUmr1SUryplJed1BI8V+xM4mv3x/8a8buHfMgbIwYp+8k6x0s2cQ7vg5Q6pbz7lqJOmxkeD2D38GztNTpk+OzTis3ZDRof4YcnFS44YAkmxZBB30oqTyk+5QyTuoXexJ2UT2r5AXv+3ZLhwUt/Kv+ziZr0DcQCayn2dm8BuhMmHA//yxgzIp6VuPQnm7eFFLI2cW88nbvpRV2HVmbhC/KP/4RdUQWQMe7UwhhIvNdc8vNzpx6fVHoY31w1UxFi57G1Cv6DwucpLTU3+BHiOlcZ4j10faUJg48DARwdYNWtWVH9FkrLEDg6H+s7xFxZEMLtRcM1dUvgXonTS+gIRhHXDK4jGzxUYbdYizKvyCgFtuy0JqEst+xKzyYXwr7x8F5OwYc0H2CBz7dUGcHwC5G+6xpMYAF02FNsgGYdzNobyFfwqRciOQ/n7WmVj3+LfsMLgNKs0qhWWs9U8BXjcT3KSYLRSkbi2sBKVxgD1atGU="

script:
- docker build --target test --tag todoapp-test .
- docker run todoapp-test src/tests
- docker run todoapp-test src/tests_e2e
